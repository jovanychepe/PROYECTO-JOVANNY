// For license information, see `https://assets.adobedtm.com/717b2dc27cb7/4c431fd993b8/3db270a9c73a/RC6fc4293ce4ee4d0793c2a8c62508d61a-source.js`.
_satellite.__registerScript('https://assets.adobedtm.com/717b2dc27cb7/4c431fd993b8/3db270a9c73a/RC6fc4293ce4ee4d0793c2a8c62508d61a-source.min.js', "const dl=event.detail;let env,sysEnv=dl.get(\"page.pageInfo.sysEnv\")||\"dev\",wlocation=window.location,componentPrimaryCategory=dl.get(`component.${dl.get(\"eventInfo.reference.linkedComponent\")}.category.primaryCategory`)||dl.get(\"page.category.primaryCategory\");const prefixArray={configurator:\"con\",\"stock locator\":\"stock\",sales:\"sales\",finance:\"fin\",rental:\"rent\"};let prefix=prefixArray[componentPrimaryCategory],spl_regex=/(\\.bmw\\.com|.bmw\\-welt\\.com)\\/[a-zA-Z]{2}\\//g,nsc_regex=/(\\.bmw\\.com\\/[a-zA-Z]{2}\\-[a-zA-Z]{2}\\/)/g,brandRegex=/(\\.bmw\\.)|(\\.mini\\.)|(\\.bmw-motorrad\\.)|(\\.bmwusa\\.com\\.)|(customer\\.bmwgroup\\.com)|(m\\d{1,3}\\..*-int\\d\\.com)/g;env=prefix||(spl_regex.test(wlocation.href)?\"special\":nsc_regex.test(wlocation.href)||brandRegex.test(wlocation.href)?\"nsc\":\"\"),epaas.api.getParentDomain||(epaas.api.getParentDomain=function(){var e=document.domain,t=e.indexOf(\".\");return-1!==t&&(e=e.substring(t+1)),e});const parentDomain=epaas.api.getParentDomain();dl.assign(\"page.attributes.parentDomain\",parentDomain),\"error\"==dl.get(\"page.category.pageType\")&&dl.assign(\"page.category.pageType\",\"errorPage\");let pageTitle=adobeDataLayer.getState(\"page.pageInfo.pageTitle\")||document.title;dl.mergeDeep({page:{pageInfo:{websiteEnv:env,sysEnv:sysEnv,pageTitle:pageTitle}}});let windowInfo={};windowInfo.screenWidth=window.screen.width*window.devicePixelRatio,windowInfo.screenHeight=window.screen.height*window.devicePixelRatio,windowInfo.screenOrientation=window.screen.width>=window.screen.height?\"landscape\":\"portrait\",windowInfo.userAgent=window.navigator.userAgent,windowInfo.server=wlocation.host,windowInfo.url=wlocation.href,windowInfo.urlSpillover=wlocation.href.length>255?wlocation.href.substring(255,wlocation.href.length):\"\",windowInfo.previousDomain=document.referrer?document.referrer.split(\"/\")[2]:document.referrer,windowInfo.urlHash=wlocation.hash?wlocation.hash.split(\"?\")[0].split(\"#\")[1]:wlocation.hash,windowInfo.urlClean=wlocation.protocol+\"//\"+wlocation.host+wlocation.pathname,windowInfo.queryParam=wlocation.hash?wlocation.hash.split(\"?\")[1]:wlocation.search.slice(1),windowInfo.searchAdsParameter=_satellite.getVar(\"AA-SearchAds360Parameter\"),dl.assign(\"page.pageInfo.windowInfo\",windowInfo);let date=new Date,utcHours=date.getUTCHours()<=9?\"0\"+date.getUTCHours():date.getUTCHours(),utcMinutes=date.getUTCMinutes()<=9?\"0\"+date.getUTCMinutes():date.getUTCMinutes(),utcSeconds=date.getUTCSeconds()<=9?\"0\"+date.getUTCSeconds():date.getUTCSeconds(),utcTime=utcHours+\":\"+utcMinutes+\":\"+utcSeconds,localTime=date.toLocaleTimeString(\"DE\"),timeInfo={};timeInfo.localTime=localTime,timeInfo.utcTime=utcTime,dl.assign(\"page.pageInfo.timeInfo\",timeInfo);let subCategory1=dl.get(\"eventInfo.category.subCategory1\")||dl.get(\"eventInfo.category.subCategory01\");dl.assign(\"eventInfo.category.subCategory1\",subCategory1);try{let e={};e.publishDate=_satellite.buildInfo.buildDate,e.vidServiceVersion=s.visitor.version,e.appMeasurementVersion=s.version,dl.assign(\"page.pageInfo.tmsInfo\",e);let t=s.Util.getQueryParam(\"tl\"),o=s.Util.getQueryParam(\"icp\"),n=s.Util.getQueryParam(\"cid\"),a=s.Util.getQueryParam(\"bid\");dl.mergeDeep({page:{pageInfo:{windowInfo:{campaign:t,internalCampaign:o,nspCampaignID:n,nspBroadlogID:a}}}});let i=dl.get(\"page.pageInfo.visitorInfo\")||{};const r=s.marketingCloudVisitorID?s.marketingCloudVisitorID.slice(-2):Visitor.getInstance(\"B52D1CFE5330949C0A490D45@AdobeOrg\").getMarketingCloudVisitorID().slice(-2);i.lastTwoDigits=r,dl.assign(\"page.pageInfo.visitorInfo\",i)}catch(e){console.log(event.$rule.name+\" s object is not defined yet\"+e)}dl.push(\"eventInfo.state\",event.$rule);");